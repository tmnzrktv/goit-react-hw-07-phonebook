(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{16:function(t,n,e){t.exports={contacts:"ContactList_contacts__3nnnn",contacts__item:"ContactList_contacts__item__21SKQ",contacts__button:"ContactList_contacts__button__3KK4z"}},28:function(t,n,e){t.exports={filter__input:"Filter_filter__input__CMHC3"}},58:function(t,n,e){"use strict";e.r(n);var c=e(0),a=e.n(c),r=e(10),o=e.n(r),u=e(3),i=e(11),s=e(12),b=e(15),l=e(14),f=e(8),j=e.n(f),h=e(6),d=e(9),m=e.n(d),O=e(2),p=Object(O.b)("contacts/fetchContactsRequest"),_=Object(O.b)("contacts/fetchContactsSuccess"),C=Object(O.b)("contacts/fetchContactsError"),v=Object(O.b)("contacts/addContactRequest"),x=Object(O.b)("contacts/addContactSuccess"),g=Object(O.b)("contacts/addContactError"),k=Object(O.b)("contacts/deleteContactRequest"),y=Object(O.b)("contacts/deleteContactSuccess"),S=Object(O.b)("contacts/deleteContactError"),w=Object(O.b)("phonebook/filter");m.a.defaults.baseURL="http://localhost:3004/";var L,N,A=function(){return function(t){return t(p()),m.a.get("/contacts").then((function(n){var e=n.data;return t(_(e))})).catch((function(t){return C(t)}))}},z=function(t){return function(n){var e={name:t.name,number:t.number};return n(v()),m.a.post("/contacts",e).then((function(t){var e=t.data;return n(x(e))})).catch((function(t){return n(g(t))}))}},D=function(t){return function(n){return n(k()),m.a.delete("/contacts/".concat(t)).then((function(){return n(y(t))})).catch((function(t){return n(S(t))}))}},q=e(1),F=function(t){Object(b.a)(e,t);var n=Object(l.a)(e);function e(){var t;Object(i.a)(this,e);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=n.call.apply(n,[this].concat(a))).state={name:"",number:""},t.handleChange=function(n){var e=n.currentTarget,c=e.name,a=e.value;t.setState(Object(u.a)({},c,a))},t.handleSumbit=function(n){n.preventDefault(),t.reset(),t.checkDuplicateContacts(t.state)||t.props.onSubmit(t.state)},t.checkDuplicateContacts=function(n){var e=t.props.existedContacts,c=e.find((function(t){return t.number===n.number})),a=e.find((function(t){return t.name.toLowerCase()===n.name.toLowerCase()}));if(c||a)return alert("This number is already in contacts."),!0},t.reset=function(){t.setState({name:"",number:""})},t}return Object(s.a)(e,[{key:"render",value:function(){return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)("form",{onSubmit:this.handleSumbit,children:[Object(q.jsxs)("label",{className:j.a.form__label,children:["Name",Object(q.jsx)("input",{className:j.a.form__input,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,value:this.state.name,onChange:this.handleChange})]}),Object(q.jsxs)("label",{className:j.a.form__label,children:["Number",Object(q.jsx)("input",{className:j.a.form__input,type:"tel",name:"number",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 11-12 \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043f\u0443\u0437\u0430\u0442\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0,value:this.state.number,onChange:this.handleChange})]}),Object(q.jsx)("button",{className:j.a.form__button,type:"submit",children:"Add contact"})]})})}}]),e}(c.Component),E=Object(h.b)((function(t){return{existedContacts:t.phonebook.items}}),(function(t){return{onSubmit:function(n){return t(z(n))}}}))(F),M=e(16),R=e.n(M),T=function(t){Object(b.a)(e,t);var n=Object(l.a)(e);function e(){return Object(i.a)(this,e),n.apply(this,arguments)}return Object(s.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var t=this.props,n=t.items,e=t.onDeleteContact;return Object(q.jsxs)("ul",{className:R.a.contacts,children:[this.props.isLoadingContacts&&Object(q.jsx)("h1",{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c..."}),n.map((function(t){var n=t.id,c=t.name,a=t.number;return Object(q.jsxs)("li",{className:R.a.contacts__item,children:[Object(q.jsxs)("span",{children:[c," : ",a]}),Object(q.jsx)("button",{className:R.a.contacts__button,onClick:function(){return e(n)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},n)}))]})}}]),e}(c.Component),J=function(t,n){var e=n.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(e)}))},K=Object(h.b)((function(t){var n=t.phonebook,e=n.items,c=n.filter,a=n.loading;return{items:J(e,c),isLoadingContacts:a}}),(function(t){return{onDeleteContact:function(n){return t(D(n))},fetchContacts:function(){return t(A())}}}))(T),Z=e(28),B=e.n(Z),G=Object(h.b)((function(t){return{value:t.phonebook.filter}}),(function(t){return{onChange:function(n){return t(w(n.currentTarget.value))}}}))((function(t){var n=t.onChange,e=t.value;return Object(q.jsxs)("label",{children:["Find contacts by name",Object(q.jsx)("input",{className:B.a.filter__input,type:"text",name:"search",value:e,onChange:n})]})})),H=function(){return Object(q.jsxs)("div",{children:[Object(q.jsx)("h1",{children:"Phonebook"}),Object(q.jsx)(E,{}),Object(q.jsx)("h2",{children:"Contacts"}),Object(q.jsx)(G,{}),Object(q.jsx)(K,{})]})},I=e(13),P=e(29),Q=e.n(P),U=e(7),V=e(4),$=Object(O.c)([],(L={},Object(u.a)(L,_,(function(t,n){return n.payload})),Object(u.a)(L,x,(function(t,n){var e=n.payload;return[].concat(Object(I.a)(t),[e])})),Object(u.a)(L,y,(function(t,n){var e=n.payload;return t.filter((function(t){return t.id!==e}))})),L)),W=Object(O.c)("",Object(u.a)({},w,(function(t,n){return n.payload}))),X=Object(O.c)(!1,(N={},Object(u.a)(N,v,(function(){return!0})),Object(u.a)(N,x,(function(){return!1})),Object(u.a)(N,g,(function(){return!1})),Object(u.a)(N,k,(function(){return!0})),Object(u.a)(N,y,(function(){return!1})),Object(u.a)(N,S,(function(){return!1})),Object(u.a)(N,p,(function(){return!0})),Object(u.a)(N,_,(function(){return!1})),Object(u.a)(N,C,(function(){return!1})),N)),Y=Object(O.c)(null,{}),tt=Object(V.b)({items:$,filter:W,loading:X,error:Y}),nt=[].concat(Object(I.a)(Object(O.d)({serializableCheck:{ignoredActions:[U.a,U.f,U.b,U.c,U.d,U.e]}})),[Q.a]),et=Object(O.a)({reducer:{phonebook:tt},devTools:!1,middleware:nt});o.a.render(Object(q.jsx)(a.a.StrictMode,{children:Object(q.jsx)(h.a,{store:et,children:Object(q.jsx)(H,{})})}),document.getElementById("root"))},8:function(t,n,e){t.exports={form__input:"ContactForm_form__input__1wcVG",form__button:"ContactForm_form__button__1c0Ls"}}},[[58,1,2]]]);
//# sourceMappingURL=main.9f8521cd.chunk.js.map